{% extends (isAjax ? 'base-async' : 'base') | T %}

{% set products = products | default([]) %}

{% block content %}
    <div class="g-grid g-grid--container g-grid--stretch">
        {% for product in products %}
            {% include 'card' | M with { 
                'class': 'g-col g-col--sm-12 g-col--md-6 g-col--lg-4',
                'data': {
                    'name': product.abstract_name,
                    'description': "This is a very nice product, plus it doesn't cost your whole salary:",
                    'price': product.price,
                    'imageUrl': product.images[0].external_url_small | replace({ 'http:': '' }),
                    'url': product.url
                }
            } only %}
        {% endfor %}
    </div>
{% endblock %}
